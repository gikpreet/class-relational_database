= 가변 길이 레코드

* 필드의 길이가 가변적인 경우 해당 레코드의 길이가 가변적이 됨
* 필드를 분리자로 구분하여 연속적으로 저장

image:../images/image07.png[]

* 레코드의 앞부분에 정수로 된 오프셋들을 배열로 저장

image:../images/image08.png[]

---

관계형 데이터모델에서 값은 릴레이션에 속하는 모든 레코드가 같은 수의 필드만 갖게 됩니다. 필드의 수가 같으므로, 필드의 길이가 가변적인 경우에만 레코드의 길이가 가변적이 됩니다. 

가능한 조직법 중 하나는 필드를 분리자로 구분하여 연속적으로 저장하는 것입니다. 이런 조직법에서는 원하는 필드를 찾으려면 전체 레코드를 스캔해야 합니다.

다른 방법은 레코드의 앞 부분에 정수로 된 오프셋 값들을 배열로 저장해 두는 것입니다. 오프셋 배열에 따라 오버헤드가 추가되는 대신 각 필드에 직접적인 접근이 가능합니다. 또한 null 값의 확실한 처리가 가능합니다. 

레코드가 가변 길이 레코드를 포함하게 되면 레코드가 수정될 때 미묘한 문제가 발생할 수 있습니다.

* 필드를 수정하면서 길이가 증가할 수 있는데, 이 경우 공간을 추가 확보하기 위하여 후속 레코드들을 모두 뒤로 이동시켜야 합니다.
* 수정된 레코드가 해당 페이지의 남아있는 공간에 들어가지 못하는 경우는 다른 페이지로 이동되어야 합니다. 만약 레코드를 가리키는데 사용되는 RID가 페이지 번호를 포함하고 있으면 레코드를 다른 페이지로 이동시키는 것은 문제를 야기할 수 있습니다.
* 레코드가 너무 커져서 하나의 페이지에 못 들어가는 경우도 있습니다. 이 경우에는 레코드를 몇 개의 작은 레코드 조각으로 분할해서 처리해야 합니다.

---

link:./05-2_fixed_length_record.adoc[이전: Chapter 5: 고정 길이 레코드] +
link:./06-1_chapter6_page.adoc[다음: 페이지 형식]