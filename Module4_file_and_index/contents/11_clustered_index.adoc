= 클러스터드 인덱스

* 파일을 조직할 때 레코드의 순서를 파일에 대한 인덱스의 순서와 동일한 순서로 유지
* 파일의 재조직이 필요한 구조
* 데이터가 삽입/삭제될 때 마다 정렬 순서를 유지하기 위해서 그 주변의 데이터를 이동해야 함
* 파일이 동적으로 변하는 경우 유지 관리 오버헤드가 높음

image:../images/image03.png[]
 
---

파일을 조직할 때 데이터 레코드의 순서를 그 파일에 대한 어떤 인덱스의 데이터 엔트리 순서와 동일하거나 비슷하도록 조직된 인덱스를 클러스터드 인덱스(Clustered Index)라고 합니다.

클러스터드 인덱스에서는 인덱스 엔트리들을 트리 구조로 조직하며 단말 노드 층을 따라 데이터 엔트리들을 탐색해 나가면 정렬된 순서로 볼 수 있도록 해 줍니다.

클러스터드 인덱스에서는 데이터가 삽입되거나 삭제될 때 마다 정렬 순서를 유지하기 위해서 그 주번의 레코드를 움직여야 합니다. 보통은 처음에 레코드를 정렬해 놓은 다음, 차후의 삽입에 대비해 각각의 페이지마다 약간씩의 여유 공간을 남겨둡니다. 페이지에 남은 여유 공간이 모두 소진되면 오버 플로우 페이지를 리스트로 이어 붙여 대처합니다. 이 경우 파일을 재조직 해야 합니다.

클러스터드 인덱스는 파일이 동적으로 변하는 경우 유지 관리 비용이 비교적 높습니다. 클러스터드 인덱스 유지 비용이 높은 다른 이유 중 하나는 데이터 엔트리들이 이 페이지에서 저 페이지로 움직여야 하는 경우가 있는데, 레코드 식별자를 페이지 번호와 슬롯 번호의 조합으로 만든다면 그 이동된 레코드를 가리키던 모든 요소들도 새로운 위치를 가리키도록 갱신해야 하기 때문입니다.

link:./12_nonclustered_index.adoc[다음: 넌 클러스터드 인덱스]